"use strict";(globalThis.webpackChunkyags_guide=globalThis.webpackChunkyags_guide||[]).push([[2258],{8175:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>r,contentTitle:()=>d,default:()=>c,frontMatter:()=>t,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"Your App/Command Handler","title":"Command Handler","description":"This guide tells you how to build a command handler","source":"@site/docs/Your App/Command Handler.md","sourceDirName":"Your App","slug":"/Your App/Command Handler","permalink":"/Your App/Command Handler","draft":false,"unlisted":false,"editUrl":"https://github.com/yags-org/guide/edit/main/docs/Your App/Command Handler.md","tags":[],"version":"current","lastUpdatedBy":"Guevara","lastUpdatedAt":1765538025000,"sidebarPosition":6,"frontMatter":{"title":"Command Handler","description":"This guide tells you how to build a command handler","sidebar_position":6},"sidebar":"defaultSidebar","previous":{"title":"Building a slash command","permalink":"/Your App/Slash Commands"}}');var o=a(4848),i=a(8453);const t={title:"Command Handler",description:"This guide tells you how to build a command handler",sidebar_position:6},d="Command Handling",r={},m=[{value:"Building a commnad handler using Yags",id:"building-a-commnad-handler-using-yags",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"command-handling",children:"Command Handling"})}),"\n",(0,o.jsxs)(e.p,{children:["Unless your bot project is small, it's not a very good idea to have a single file with a giant ",(0,o.jsx)(e.code,{children:"if/else"})," if chain for commands. If you want to implement features into your bot and make your development process a lot less painful, you'll want to implement a command handler. Let's get started on that!"]}),"\n",(0,o.jsx)(e.h2,{id:"building-a-commnad-handler-using-yags",children:"Building a commnad handler using Yags"}),"\n",(0,o.jsx)(e.p,{children:"Here's a basic command handler made using Yags"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:'const fs = require("fs");\n\nmodule.exports = class CommandHandler {\n    constructor(client, options = {}) {\n        this.client = client;\n        this.prefix = options.prefix || "!";\n        this.commands = new Map();\n\n        this.loadCommands();\n        this.registerListener();\n    }\n\n    loadCommands() {\n        const commandFiles = fs.readdirSync("./commands").filter(f => f.endsWith(".js"));\n\n        for (const file of commandFiles) {\n            const command = require(`./commands/${file}`);\n\n            if (!command.name || !command.execute) {\n                console.warn(`\u26a0\ufe0f Command "${file}" is missing a name or execute() function.`);\n                continue;\n            }\n\n            this.commands.set(command.name, command);\n            console.log(`Loaded command: ${command.name}`);\n        }\n    }\n\n    registerListener() {\n        this.client.on("messageCreate", (msg) => {\n            if (!msg.content.startsWith(this.prefix)) return;\n\n            const args = msg.content.slice(this.prefix.length).trim().split(/\\s+/);\n            const commandName = args.shift().toLowerCase();\n\n            const command = this.commands.get(commandName);\n            if (!command) return; // silently ignore unknown commands\n\n            try {\n                command.execute(this.client, msg, args);\n            } catch (err) {\n                console.error(err);\n                msg.channel.createMessage("\u274c Error while running this command.");\n            }\n        });\n    }\n};\n'})}),"\n",(0,o.jsx)(e.p,{children:"This a simple commnad handler."})]})}function c(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}}}]);